{"version":3,"file":"static/webpack/static\\development\\pages\\compaigns\\requests.js.a1e9b4a61fa128bffc6b.hot-update.js","sources":["webpack:///./components/RequestRow.js"],"sourcesContent":["import React from 'react';\r\nimport { Table,Button } from 'semantic-ui-react';\r\nimport web3 from '../ethereum/web3';\r\nimport Compaign from '../ethereum/compaign';\r\nclass RequestRow extends React.Component{\r\n  onApprove= async()=>{\r\n    const compaign= Compaign(this.props.address);\r\n    const accounts = await web3.eth.getAccounts();\r\n    await compaign.methods.approvalRequest(this.props.id).send({\r\n      from:accounts[0]\r\n    });\r\n  }\r\n\r\n  onFinalize= async()=>{\r\n    const compaign= Compaign(this.props.address);\r\n    const accounts = await web3.eth.getAccounts();\r\n    await compaign.methods.finalizeRequest(this.props.id).send({\r\n      from:accounts[0]\r\n    });\r\n  }\r\n\r\n  render(){\r\n    const {Row,Cell} = Table;\r\n    const {id,request,approversCount}  = this.props;\r\n    return(\r\n      <Row disabled={request.compelte}>\r\n        <Cell>{id}</Cell>\r\n        <Cell>{request.description}</Cell>\r\n        <Cell>{web3.utils.fromWei(request.value,'ether')}</Cell>\r\n        <Cell>{request.recipients}</Cell>\r\n        <Cell>{request.approvalCount}/{approversCount}</Cell>\r\n        <Cell>\r\n        {\r\n          request.compelte?null:(<Button color='green' onClick={this.onApprove}>同意</Button>)\r\n        }\r\n\r\n        </Cell>\r\n        <Cell>\r\n        {\r\n          request.compelte?null:(<Button color='teal' onClick={this.onFinalize}>完成</Button>)\r\n        }\r\n\r\n        </Cell>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\nexport default RequestRow;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAIA;AADA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAIA;AADA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAQA;AAAA;AAAA;AAMA;AAAA;AAAA;AAMA;;;;AAzCA;AACA;AA0CA;;;;A","sourceRoot":""}